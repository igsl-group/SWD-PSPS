@using Psps.Core;
@using Psps.Core.Infrastructure;
@{
    var config = EngineContext.Current.Resolve<Psps.Core.Configuration.PspsConfig>();
}

<div class="navbar-header pull-left">
    <a href="@Url.Home()" class="navbar-brand">
        <small>
            <i class="icon-home"></i>
            @config.AppName (@config.Version)
        </small>
    </a>
</div>

@if (CurrentUser != null)
{
    <div class="navbar-header pull-right" role="navigation">
        <ul class="nav ace-nav">
            <li>
                <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                    <span class="icon-user"></span>
                    <span class="user-info">
                        <small>Welcome,</small>
                        @CurrentUser.PostId
                    </span>

                    <i class="icon-caret-down"></i>
                </a>

                <ul class="user-menu pull-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
                    <li>
                        <a href="@Url.RouteUrl("ChangePassword")">
                            <i class="icon-key"></i>
                            Change Password
                        </a>
                    </li>

                    <li>
                        <a href="@Url.RouteUrl("ListProfile")">
                            <i class="icon-cogs"></i>
                            Profile
                        </a>
                    </li>

                    <li class="divider"></li>

                    <li>

                        <a href="@Url.Logout("")">
                            <i class="icon-signout"></i>
                            Logout
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
}